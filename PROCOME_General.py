# -*- coding: utf-8 -*-

# #############################################################################################################################
# #############################################################################################################################
# ####
# #### PROTOCOLO PROCOME: General
# ####
# #############################################################################################################################
# #############################################################################################################################

# #############################################################################################################################
# #### Dependencias
# #############################################################################################################################

# import datetime
# import math

# #############################################################################################################################
# #### CONSTANTES
# #############################################################################################################################

# **** Capa de enlace *********************************************************************************************************

PROCOME_CONFIRM_ACK= 0
PROCOME_CONFIRM_NACK= 1
PROCOME_RESPOND_DATOSUSUARIO= 8
PROCOME_RESPOND_NACK= 9

PROCOME_DIR_UNIVERSAL= 255
PROCOME_DIR_MIN= 0
PROCOME_DIR_MAX= 254


# **** Trama corta ************************************************************************************************************

TRAMACORTA_TAM_TRAMA= 5

TRAMACORTA_POSIC_START= 0
TRAMACORTA_POSIC_CTRL= 1
TRAMACORTA_POSIC_DIR= 2
TRAMACORTA_POSIC_CHECKSUM= 3
TRAMACORTA_POSIC_END= 4

TRAMACORTA_START= 0x10
TRAMACORTA_END= 0x16


# **** Trama larga ************************************************************************************************************

TRAMALARGA_TAM_CABCOLA= 6

TRAMALARGA_POSIC_START= 0
TRAMALARGA_POSIC_LONG= 1
TRAMALARGA_POSIC_CTRL= 4
TRAMALARGA_POSIC_DIR= 5
TRAMALARGA_POSIC_ASDU= 6
TRAMALARGA_POSIC_DUI= 6
TRAMALARGA_POSIC_TYP= 6
TRAMALARGA_POSIC_I0= 10
TRAMALARGA_POSIC_FUN= 10

TRAMALARGA_POSIC_CHECKSUM= -2
TRAMALARGA_POSIC_END= -1

TRAMALARGA_START= 0x68
TRAMALARGA_END= 0x16

# **** Medidas ****************************************************************************************************************

MEDIDAS_FONDO_DE_ESCALA= 4095


# #############################################################################################################################
# #### FUNCIONES
# #############################################################################################################################

# *****************************************************************************************************************************
# **** Mostrar la trama en hexadecimal
# *****************************************************************************************************************************

def Hex2(iValorByte):
  return ('0' + hex(iValorByte)[2:])[-2:]


# *****************************************************************************************************************************
# **** Imprimir la trama en hexadecimal
# *****************************************************************************************************************************

def ImprimirTrama_Hex(Titulo, Trama):
  sSalida= Titulo
  for iCampo in Trama :
    sValor= ('0' + hex(iCampo)[2:])[-2:]
    sSalida+= ' ' + sValor.upper()
  print(sSalida.lstrip(' '))  
  return

# #############################################################################################################################
